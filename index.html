<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>SMA WEATHER</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="icon" href="photos/android-chrome-512x512.png" type="image/x-icon">
  </head>
  <body>
    
    <!-- Loading Screen -->
    <div id="loading-screen">
      <div class="loader"></div>
      <p>Loading SMA WEATHER, please wait...</p>
    </div>
    
    <script src="script.js"></script>
    
    <main>
      <nav>
        <div class="nav-links">
          <a href="index.html" class="active">Home</a>
          <a href="credits.html">Credits</a>
        </div>
        <a href="index.html">
          <img src="photos/regen.png" alt="Logo" class="logo">
        </a>
      </nav>

      <div class="slider">
        <div class="slide active">
          <img src="photos/storm_1.jpg" alt="Mountain">
          <div>Welkom bij SMA WEATHER</div>
        </div>
        <div class="slide">
          <img src="photos/groen-veld-met-gele-paardebloemen_1398-3708.jpg" alt="Sea">
          <div>Weer site voor Sancta Maria Aarschot</div>
        </div>
        <div class="slide">
          <img src="https://picsum.photos/id/1039/1600/900" alt="Forest">
          <div>Voor Project Cluster IT </div>
        </div>
      </div>

      <script>
        const slides = document.querySelectorAll('.slide');
        let index = 0;

        setInterval(() => {
          slides[index].classList.remove('active');
          index = (index + 1) % slides.length;
          slides[index].classList.add('active');
        }, 4000);
      </script>


      <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-app.js";
        import { getFirestore, doc, onSnapshot } from "https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore.js";

        const firebaseConfig = {
          apiKey: "AIzaSyDK6DDfp5QCteQPOD619dPj58YIFSsKScE",
          authDomain: "sma-wheater.firebaseapp.com",
          projectId: "sma-wheater",
          storageBucket: "sma-wheater.appspot.com",
          messagingSenderId: "1032565901231",
          appId: "1:1032565901231:web:d6e0b954858bf2f955115a"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        const docRef = doc(db, "Temperature", "FRJNGjbHV18yqyURr2Ju");

onSnapshot(docRef, (snap) => {
  console.log("Snapshot received:", snap);
  if (snap.exists()) {
    const data = snap.data();
    console.log("Data:", data);
  document.getElementById("laatstemeettijd").innerText = "geupdate om " + new Date().toLocaleTimeString();
  

    if (data.Warmth >= 18)
  {
    document.getElementById("output").innerText = `🌡️ | ${data.Warmth}°`;
  }
  else

  {
    document.getElementById("output").innerText = `❄️ | ${data.Warmth}°`;
  }
  if (data.humitidy >= 60)
  {
    document.getElementById("output2").innerText = `☔ | ${data.humitidy}%`;
  }
  else
  {
    document.getElementById("output2").innerText = `🌂 | ${data.humitidy}%`;
  }
  if (data["Temp-Later"] >= 18)
  {
    document.getElementById("output4").innerText = `🌡️ | ${data["Temp-Later"]}°`;
  }
  else

  {
    document.getElementById("output4").innerText = `❄️ | ${data["Temp-Later"]}°`;
  }
  if (data["humidity-later"] >= 60)
  {
    document.getElementById("output3").innerText = `☔ | ${data["humidity-later"]}%`;
  }
  else
  {
    document.getElementById("output3").innerText = `🌂 | ${data["humidity-later"]}%`;
  }
  } else {
    console.log("Document does not exist!");
    document.getElementById("output").innerText = "No data found!";
  }
  
    
}, (error) => {
  console.error("Firestore real-time error:", error);
  document.getElementById("output").innerText = "Error loading data";
});
      </script>

      <section class="textbox-section">
        <h1 class="head">Weer op school</h1>
        <H1 class="head" id="laatstemeettijd" style="font-size: 50px;">Loading tijd....</H1>
        <div class="section-content">
          <div class="detail-box">
            <div class="detail">
              <h1>Vochtigheid</h1>
              <h1 id="output2">Loading Vochtigheid...</h1>
              <!--<h1></h1>-->
              <h1 class="vorige">Vorige %</h1>
              <h1 id="output3" style="font-size: 30px;">Loading Laatste- <br>Vochtigheid</h1>
              
            </div>
            <div class="detail">
              <h1>Warmte</h1>
              <h1 id="output">Loading Wartme...</h1>
              <!--<H1></H1>-->
              <H1 class ="vorige">vorige °</H1>
              <h1 id="output4" style="font-size: 30px;">Loading Laatste- <br>Wartme</h1>
            </div>
          </div>

          
          
        </div>
      </section>
      
    </main>
  </body>
</html>
